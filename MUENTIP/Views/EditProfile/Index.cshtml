@{
    ViewData["Title"] = "EditProfile";
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"]</title>
    <link rel="stylesheet" href="~/css/MyProfile/my_profile_page.css">
    <link rel="stylesheet" href="~/css/MyProfile/edit-profile.css">
    <link rel="stylesheet" href="~/css/MyProfile/filter.css">
</head>

<body>
    <header>Edit Profile Page</header>
    <a href="@Url.Action("Index", "Profile")" class="cancel-btn">
        <button type="button" class="cancel-btn">X</button>
    </a>

    <div id="tagModal" class="tag-modal">
        <div class="modal-content">
            <span class="cancel-select-tag-btn" onclick="closeTagModal()">&times;</span>
            <h2>Select Tags</h2>
            <ul id="availableTags">
                <!-- Dynamically populated with tags from the backend -->
            </ul>
        </div>
    </div>

    <form method="post" action="@Url.Action("Index", "EditProfile")">
        <div class="profile-card">
            <div class="profile-picture">
                <img src="@Model.ProfileImageLink" alt="Profile Picture" style="width: 150px; height: 150px; border-radius: 50%;" />
            </div>
            <button onclick="uploadImage()">Upload</button>

            <div class="detail-profile">
                <div class="form-group">
                    <label for="Name">Name : </label>
                    <input type="text" id="Name" name="UserName" value="@Model.UserName" required />
                </div>

                <div class="form-group">
                    <label for="Email">Email : </label>
                    <input type="email" id="Email" name="Email" value="@Model.Email" required />
                </div>

                <div class="form-group">
                    <label for="Detail">About me : </label>
                    <textarea id="Detail" name="Info">@Model.Info</textarea>
                </div>

                <div class="form-group">
                    <label for="Birthday">Birthday : </label>
                    <input type="date" id="Birthday" name="BirthDate" value="@Model.BirthDate" />
                </div>

                <div class="form-group">
                    <label for="Gender">Gender : </label>
                    <input type="text" id="Gender" name="Gender" value="@Model.Gender" required />
                </div>

                <div class="form-group">
                    <label for="Education">Education : </label>
                    <input type="text" id="Education" name="Education" value="@Model.Education" />
                </div>

                <div class="form-group">
                    <label for="Address">Address : </label>
                    <input type="text" id="Address" name="Address" value="@Model.Address" />
                </div>

                <div class="form-group">
                    <label for="InterestedTags">Tags : </label>
                    <ul id="tag-nav" class="tag-nav">
                        @foreach (var tag in Model.InterestedTags)
                        { 
                            <li class="hot-tag-ele">@tag
                                <button type="button" class="remove-tag-btn" data-tag="@tag" onclick="removeTagFromProfile('@tag')">X</button>
                            </li>
                        }
                    </ul>
                    <button type="button" id="addTagBtn" class="hot-tag-ele"><div class="add-btn">+</div></button>
                </div>
            </div>

            <!-- Submit Button -->
            <div class="form-group">
                <button type="submit">Save Changes</button>
            </div>
        </div>
    </form>

    <script>
        var activityModel = @Html.Raw(Json.Serialize(Model)); 
        var interestedTags = @Html.Raw(Json.Serialize(Model.InterestedTags));
        
    </script>

    <script src="~/js/MyProfile/edit_profile_page.js"></script>

</body>
</html>
